.................................................

"wait until Dave is visible then say wassup"

   >>>
    BIND[  obj-18
          name-19 -lex-   Dave
                  -name-> obj-18 ]
    WAIT[  hq-20 -lex-  visible
                 -hq--> obj-18 ]
   ===
      DO[ act-21 -lex-  wait ]
   <<<
    DO[ act-22 -lex-  say
               -obj-> txt-23
        txt-23 -str-  wassup ]

.................................................

"Dave is visible"

  BIND[  obj-31
        name-32 -lex-   Dave
                -name-> obj-31 ]
  NOTE[  hq-33 -lex-  visible
               -hq--> obj-31 ]

.................................................

"while Dave is not visible turn left"

   >>>
    BIND[  obj-42
          name-43 -lex-   Dave
                  -name-> obj-42 ]
    WAIT[  hq-44 -lex-  visible
                 -hq--> obj-42 ]
   ===
      DO[ act-45 -lex-  turn
          dir-46 -lex-  left
                 -dir-> act-45 ]
   <<<
     # 5
   ...
   ~~~ 5
    DO[  act-49 -lex-  explain
                -obj-> fail-50
        fail-50 -lex-  fail
                -act-> plan-48 ]

.................................................

"turn slowly until Dave is visible"

   >>>
    BIND[  obj-52
          name-53 -lex-   Dave
                  -name-> obj-52 ]
    WAIT[  hq-54 -lex-  visible
                 -hq--> obj-52 ]
   ===
      DO[ act-55 -lex-  turn
          mod-56 -lex-  slowly
                 -mod-> act-55 ]
   <<<
     # 5
   ...
   ~~~ 5
    DO[  act-59 -lex-  explain
                -obj-> fail-60
        fail-60 -lex-  fail
                -act-> plan-58 ]

.................................................

"turn the knob while Dave is visible"

   >>>
    BIND[  obj-62
          name-63 -lex-   Dave
                  -name-> obj-62 ]
    WAIT[  hq-64 -lex-  visible
                 -neg-  1
                 -hq--> obj-62 ]
   ===
    BIND[  obj-66
          kind-67 -lex-  knob
                  -ako-> obj-66 ]
      DO[ act-65 -lex-  turn
                 -obj-> obj-66 ]
   <<<
     # 6
   ...
   ~~~ 6
    DO[  act-70 -lex-  explain
                -obj-> fail-71
        fail-71 -lex-  fail
                -act-> plan-69 ]

.................................................

"while Dave is visible keep turning around"

   >>>
    BIND[  obj-82
          name-83 -lex-   Dave
                  -name-> obj-82 ]
    WAIT[  hq-84 -lex-  visible
                 -neg-  1
                 -hq--> obj-82 ]
   ===
     ~~~ 4
      DO[ act-85 -lex-  turn
          dir-86 -lex-  around
                 -dir-> act-85 ]
       @ 4
   <<<
     # 5
   ...
   ~~~ 5
    DO[  act-89 -lex-  explain
                -obj-> fail-90
        fail-90 -lex-  fail
                -act-> plan-88 ]

.................................................

"keep turning the knob until Dave is not visible"

   >>>
    BIND[  obj-107
          name-108 -lex-   Dave
                   -name-> obj-107 ]
    WAIT[  hq-109 -lex-  visible
                  -neg-  1
                  -hq--> obj-107 ]
   ===
    BIND[  obj-111
          kind-112 -lex-  knob
                   -ako-> obj-111 ]
     ~~~ 5
      DO[ act-110 -lex-  turn
                  -obj-> obj-111 ]
       @ 5
   <<<
     # 6
   ...
   ~~~ 6
    DO[  act-115 -lex-  explain
                 -obj-> fail-116
        fail-116 -lex-  fail
                 -act-> plan-114 ]

.................................................

"while Dave is not visible keep turning the knob and holding the hammer"

   >>>
    BIND[  obj-127
          name-128 -lex-   Dave
                   -name-> obj-127 ]
    WAIT[  hq-129 -lex-  visible
                  -hq--> obj-127 ]
   ===
    BIND[  obj-131
          kind-132 -lex-  knob
                   -ako-> obj-131 ]
     ~~~ 5
      DO[ act-130 -lex-  turn
                  -obj-> obj-131 ]
       @ 5
   ===
    BIND[  obj-134
          kind-135 -lex-  hammer
                   -ako-> obj-134 ]
     ~~~ 7
      DO[ act-133 -lex-  hold
                  -obj-> obj-134 ]
       @ 7
   <<<
     # 8
   ...
   ~~~ 8
    DO[  act-138 -lex-  explain
                 -obj-> fail-139
        fail-139 -lex-  fail
                 -act-> plan-137 ]

